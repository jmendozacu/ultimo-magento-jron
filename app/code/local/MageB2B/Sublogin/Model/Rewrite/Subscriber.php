<?php

class
MageB2B_Sublogin_Model_Rewrite_Subscriber
extends
Mage_Newsletter_Model_Subscriber
{

public
function
loadByCustomer(Mage_Customer_Model_Customer
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c)
{
$_17fe0f58f521a1d8d613a93097a5a22f2074c04f
=
Mage::helper('sublogin')->getCurrentSublogin();
if
($_17fe0f58f521a1d8d613a93097a5a22f2074c04f
&&
$_17fe0f58f521a1d8d613a93097a5a22f2074c04f->getId())
{
$_dfe3da2cf9a9c1c0e3650213a6feabb98882045a
=
Mage::getModel('newsletter/subscriber')->loadByEmail($_17fe0f58f521a1d8d613a93097a5a22f2074c04f->getEmail());
foreach
($_dfe3da2cf9a9c1c0e3650213a6feabb98882045a->getData()
as
$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07
=>
$_101966cc6117772941ef274d5dfb132cb8452d0a)
{
$this->setData($_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07,
$_101966cc6117772941ef274d5dfb132cb8452d0a);
}
return
$this;
}
else
{
return
parent::loadByCustomer($_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c);
}
}
}
