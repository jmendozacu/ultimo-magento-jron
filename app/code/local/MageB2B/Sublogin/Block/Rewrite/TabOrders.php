<?php

class
MageB2B_Sublogin_Block_Rewrite_TabOrders
extends
Mage_Adminhtml_Block_Customer_Edit_Tab_Orders
{
public
function
setCollection($_205d95c001c842f933e3b55fa4e902d5d2fdd0af)
{
$_205d95c001c842f933e3b55fa4e902d5d2fdd0af->addFieldToSelect('sublogin_id');
parent::setCollection($_205d95c001c842f933e3b55fa4e902d5d2fdd0af);
}
protected
function
_prepareColumns()
{
parent::_prepareColumns();

$_39cc59a647aed4446ab8f3ef32b7135f664a845f
=
Mage::getModel('sublogin/sublogin')->getCollection();
if
(Mage::registry('current_customer')->getId())
{
$_39cc59a647aed4446ab8f3ef32b7135f664a845f->addFieldToFilter('entity_id',
Mage::registry('current_customer')->getId());
}
$_18254cfced00997c538772b34da78f09931948f4
=
array();
foreach($_39cc59a647aed4446ab8f3ef32b7135f664a845f
as
$_17fe0f58f521a1d8d613a93097a5a22f2074c04f)
{
$_18254cfced00997c538772b34da78f09931948f4[$_17fe0f58f521a1d8d613a93097a5a22f2074c04f->getId()]
=
$_17fe0f58f521a1d8d613a93097a5a22f2074c04f->getEmail();
}
$this->addColumnAfter('sublogin_id',
array(
'header'
=>
Mage::helper('customer')->__('Sublogin Email'),
'index'
=>
'sublogin_id',
'type'
=>
'options',
'options'
=>
$_18254cfced00997c538772b34da78f09931948f4,
),
'created_at'
);
$this->sortColumnsByOrder();
return
$this;
}
}
