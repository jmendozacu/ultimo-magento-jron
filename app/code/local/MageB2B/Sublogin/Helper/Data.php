<?php

class
MageB2B_Sublogin_Helper_Data
extends
Mage_Core_Helper_Abstract
{
protected
$_currentyear
=
2015;

public
function
customerHasSublogin(Mage_Customer_Model_Customer
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c)
{
$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d
=
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c
?
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->getId()
:
Mage::getSingleton('customer/session')->getCustomerId();
if
($_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d)
{
static
$_4e45fa4f3249d9c3cc1314ed89922593008cf117
=
array();
if
(!isset($_4e45fa4f3249d9c3cc1314ed89922593008cf117[$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d]))
{
$_205d95c001c842f933e3b55fa4e902d5d2fdd0af
=
Mage::getModel('sublogin/sublogin')->getCollection()->addFieldToFilter('entity_id',
$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d);
if
($_205d95c001c842f933e3b55fa4e902d5d2fdd0af->getSize()
>
0)
{
$_4e45fa4f3249d9c3cc1314ed89922593008cf117[$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d]
=
$_205d95c001c842f933e3b55fa4e902d5d2fdd0af;
return
$_205d95c001c842f933e3b55fa4e902d5d2fdd0af;
}
}
else
{
return
$_4e45fa4f3249d9c3cc1314ed89922593008cf117[$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d];
}
}
return
null;
}

public
function
getCurrentSublogin(Mage_Customer_Model_Customer
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c
=
null,
$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607
=
'')
{
$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d
=
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c
?
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->getId()
:
Mage::getSingleton('customer/session')->getCustomerId();
$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607
=
$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607
?
$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607
:
Mage::getSingleton('customer/session')->getSubloginEmail();
if
($_ff0a3525eb1a63ce44e7951a0b522829a4d2f607)
{
static
$_4e45fa4f3249d9c3cc1314ed89922593008cf117
=
array();
if
(!isset($_4e45fa4f3249d9c3cc1314ed89922593008cf117[$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d.'_'.$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607]))
{
$_205d95c001c842f933e3b55fa4e902d5d2fdd0af
=
Mage::getModel('sublogin/sublogin')->getCollection()->addFieldToFilter('email',
$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607);
foreach
($_205d95c001c842f933e3b55fa4e902d5d2fdd0af
as
$_7f11b1962e14e69c8844d0655d561b3e8cd30d5b)
{
if
($_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d
==
$_7f11b1962e14e69c8844d0655d561b3e8cd30d5b->getEntityId())
{
$_4e45fa4f3249d9c3cc1314ed89922593008cf117[$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d.'_'.$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607]
=
$_7f11b1962e14e69c8844d0655d561b3e8cd30d5b;
return
$_7f11b1962e14e69c8844d0655d561b3e8cd30d5b;
}
}
}
else
{
return
$_4e45fa4f3249d9c3cc1314ed89922593008cf117[$_00bfc7a78eb28c3a15ee3f0a828d5a0f3f8d9b1d.'_'.$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607];
}
}
return
null;
}

public
function
validateUniqueEmail($_ff0a3525eb1a63ce44e7951a0b522829a4d2f607,
$_8c21f819efc249c0efe711aa784aa8a6a6d8a13f,
$_e0e6e3a4eeae3cf9643bc7e9a30537fce9e9bb22
=
null)
{
$_205d95c001c842f933e3b55fa4e902d5d2fdd0af
=
Mage::getModel('sublogin/sublogin')->getCollection()->addFieldToFilter('email',
$_ff0a3525eb1a63ce44e7951a0b522829a4d2f607);
foreach
($_205d95c001c842f933e3b55fa4e902d5d2fdd0af
as
$_4e45fa4f3249d9c3cc1314ed89922593008cf117)
{
$_f9712cf3eb2bf043e1ddede22c150b1170c69142
=
Mage::getModel('customer/customer')->load($_4e45fa4f3249d9c3cc1314ed89922593008cf117->getEntityId());
if
($_f9712cf3eb2bf043e1ddede22c150b1170c69142->getWebsiteId()
==
$_8c21f819efc249c0efe711aa784aa8a6a6d8a13f)
{
if
($_f9712cf3eb2bf043e1ddede22c150b1170c69142->getId()
==
$_e0e6e3a4eeae3cf9643bc7e9a30537fce9e9bb22)
{
continue;
}
return
false;
}
}


$_aa9e6f37f9aafed0bccd8a8130762979ec1d7b7e
=
Mage::getSingleton('customer/session')->getSubloginEmail();
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c
=
Mage::getModel('customer/customer')->setWebsiteId($_8c21f819efc249c0efe711aa784aa8a6a6d8a13f)
->loadByEmail($_ff0a3525eb1a63ce44e7951a0b522829a4d2f607,
Mage::getModel('customer/customer'));
Mage::getSingleton('customer/session')->setSubloginEmail($_aa9e6f37f9aafed0bccd8a8130762979ec1d7b7e);
if
($_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->getId()
&&
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->getId()
!=
$_e0e6e3a4eeae3cf9643bc7e9a30537fce9e9bb22)
{
return
false;
}
return
true;
}

public
function
setFrontendLoadAttributes($_4e45fa4f3249d9c3cc1314ed89922593008cf117,
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c)
{
if
(!$_4e45fa4f3249d9c3cc1314ed89922593008cf117
||
!$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c)
{
return;
}
$_a8c5747baec2d53dc80fd53f721245f3ab24680d
=
array('prefix',
'is_subscribed',
'firstname',
'lastname',
'password',
'email',
'customer_id',
'rp_token',
'rp_token_created_at');
if
(Mage::getStoreConfig('sublogin/projects/project238_active'))
{
$_a8c5747baec2d53dc80fd53f721245f3ab24680d
=
array('firstname',
'lastname',
'password',
'email',
'customer_id',
'rp_token',
'rp_token_created_at',
'website',
'company',
'klt',
'kcp',
'is_subscribed');
}

foreach
(array('firstname',
'lastname',
'email')
as
$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07)
{
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->setData('orig_'.$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07,
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->getData($_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07));
}
foreach
($_a8c5747baec2d53dc80fd53f721245f3ab24680d
as
$_cf80d58e34c98ca4787395f86a0a654da3781807)
{
$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07
=
$_cf80d58e34c98ca4787395f86a0a654da3781807;
if
($_cf80d58e34c98ca4787395f86a0a654da3781807
==
'password')
{
$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07
=
'password_hash';
}
$_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->setData($_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07,
$_4e45fa4f3249d9c3cc1314ed89922593008cf117->getData($_cf80d58e34c98ca4787395f86a0a654da3781807));
}
}

public
function
getGridFields($_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c,
$_168f685b62f9bec4ef848eff88e14ca431705084
=
'',
$_65d77092134088b74b931f5dee7775701c22522d
=
'admin')
{
$_c9cb8b3327e7c441d3547b479c17979eb046dc77
=
Mage::getStoreConfig('customer_id/customer_id/auto_increment')
?
true
:
false;
$_91a2a43f77d1dc504cd0664864c1dfd4834a8f53
=
Mage::getModel('core/website')->load($_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->getWebsiteId());
$_6ab22cf5b83adf50f6320e3b010f11ee77b3b669
=
array();
foreach
($_91a2a43f77d1dc504cd0664864c1dfd4834a8f53->getStoreCollection()
as
$_7ff01efcb6976550e400d525bb2f8f2090febc06)
{
$_6ab22cf5b83adf50f6320e3b010f11ee77b3b669[$_7ff01efcb6976550e400d525bb2f8f2090febc06->getId()]
=
$_7ff01efcb6976550e400d525bb2f8f2090febc06->getCode();
}
$_81e77768f3068185edd8fda5ab1f65a052f81082
=
array();
foreach
($_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->getAddresses()
as
$_17d2af4b1493648e1cc1cb8dffce9a7658374484)
{
$_e654d1a18146651e3bfe6fd079c03211dddd7e9f
=
'';
$_1b144addba58891e49d3fed7e7095afd8ce1c0e5
=
$_17d2af4b1493648e1cc1cb8dffce9a7658374484->getStreet();
foreach
($_1b144addba58891e49d3fed7e7095afd8ce1c0e5
as
$_317d4a7f0913fca2b26a7e355e8f6ae219b839ca)
{
$_e654d1a18146651e3bfe6fd079c03211dddd7e9f
.=
isset($_317d4a7f0913fca2b26a7e355e8f6ae219b839ca)
?
$_317d4a7f0913fca2b26a7e355e8f6ae219b839ca
:
'';
$_e654d1a18146651e3bfe6fd079c03211dddd7e9f
.=
' ';
}
$_e60edee9bbcec9af2084c09a7e3e3bf5a0643e9f
=
$_17d2af4b1493648e1cc1cb8dffce9a7658374484->getCompany()
.
' '
.
$_e654d1a18146651e3bfe6fd079c03211dddd7e9f
.
' '
.
$_17d2af4b1493648e1cc1cb8dffce9a7658374484->getPostcode()
.
' '
.
$_17d2af4b1493648e1cc1cb8dffce9a7658374484->getCity();
$_81e77768f3068185edd8fda5ab1f65a052f81082[$_17d2af4b1493648e1cc1cb8dffce9a7658374484->getId()]
=
$_e60edee9bbcec9af2084c09a7e3e3bf5a0643e9f;
}
$_d2389373c4d226ef389a44a6ea431427c26dd7a9
=
array();
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'store_id',
'label'
=>
Mage::helper('sublogin')->__('Store'),
'required'=>
false,
'type'
=>
'select',
'style'
=>
'width:100px',
'cssclass'=>
'',
'options'
=>
$_6ab22cf5b83adf50f6320e3b010f11ee77b3b669,
);
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>'address_ids',
'label'
=>
Mage::helper('sublogin')->__('Addresses'),
'required'=>
false,
'type'
=>
'multiselect',
'style'
=>
'width:350px',
'cssclass'=>
'',
'options'
=>
$_81e77768f3068185edd8fda5ab1f65a052f81082,
);
if
($_b803c43bc8b3ef64b7d19b78f670cdbd11dacf8c->getCustomerId())
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'customer_id',
'label'
=>
Mage::helper('sublogin')->__('Customer Id'),
'required'
=>
false,
'type'
=>
'text',
'style'
=>
'width:100px',
'cssclass'
=>
'',
'readonly'
=>
$_c9cb8b3327e7c441d3547b479c17979eb046dc77,
);
}
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'email',
'label'
=>
Mage::helper('sublogin')->__('Email'),
'required'
=>
true,
'type'
=>
'text',
'style'
=>
'width:150px',
'cssclass'
=>
'validate-email',
);
if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('send_backendmails',
$_65d77092134088b74b931f5dee7775701c22522d))
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'send_backendmails',
'label'
=>
Mage::helper('sublogin')->__('Send Mail'),
'required'
=>
false,
'type'
=>
'checkbox',
'style'
=>
'',
'cssclass'
=>
'',
);
}
if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('create_sublogins',
$_65d77092134088b74b931f5dee7775701c22522d))
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'create_sublogins',
'label'
=>
Mage::helper('sublogin')->__('Can create sublogins'),
'required'
=>
false,
'type'
=>
'checkbox',
'style'
=>
'',
'cssclass'
=>
'',
);
}

if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('prefix',
$_65d77092134088b74b931f5dee7775701c22522d))
{
if
(Mage::helper('customer')->getNamePrefixOptions())
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'prefix',
'label'
=>
Mage::helper('sublogin')->__('Prefix'),
'required'
=>
false,
'type'
=>
'select',
'style'
=>
'width:50px',
'cssclass'
=>
'',
'options'
=>
Mage::helper('customer')->getNamePrefixOptions(),
);
}

else
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'prefix',
'label'
=>
Mage::helper('sublogin')->__('Prefix'),
'required'
=>
false,
'type'
=>
'text',
'style'
=>
'width:50px',
'cssclass'
=>
'',
);
}
}
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'firstname',
'label'
=>
Mage::helper('sublogin')->__('Firstname'),
'required'
=>
true,
'type'
=>
'text',
'style'
=>
'width:100px',
'cssclass'
=>
'',
);
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'lastname',
'label'
=>
Mage::helper('sublogin')->__('Lastname'),
'required'
=>
true,
'type'
=>
'text',
'style'
=>
'width:100px',
'cssclass'
=>
'',
);
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'password',
'label'
=>
Mage::helper('sublogin')->__('Password'),
'required'
=>
true,
'type'
=>
'text',
'style'
=>
'width:80px',
'cssclass'
=>
'validate-password',
'onlyNewRequired'
=>
true,
'onlyNewValue'
=>
true,
);
if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('expire_date',
$_65d77092134088b74b931f5dee7775701c22522d))
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'days_to_expire',
'label'
=>
Mage::helper('sublogin')->__('Days to Expire'),
'required'
=>
false,
'type'
=>
'text',
'style'
=>
'',
'cssclass'
=>
'',
);
}
if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('expire_date',
$_65d77092134088b74b931f5dee7775701c22522d))
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'expire_date',
'label'
=>
Mage::helper('sublogin')->__('Date to Expire'),
'type'
=>
'html',
'html'
=>
$_168f685b62f9bec4ef848eff88e14ca431705084,
);
}
if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('acl',
$_65d77092134088b74b931f5dee7775701c22522d))
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'acl',
'label'
=>
Mage::helper('sublogin')->__('ACL'),
'required'
=>
false,
'type'
=>
'multiselect',
'style'
=>
'width:250px',
'cssclass'
=>
'',
'options'
=>
Mage::getModel('sublogin/acl')->getCollection()->keyValuePair(),
);
}
if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('is_subscribed',
$_65d77092134088b74b931f5dee7775701c22522d))
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'is_subscribed',
'label'
=>
Mage::helper('sublogin')->__('Is subscribed'),
'required'
=>
false,
'type'
=>
'checkbox',
'style'
=>
'',
'cssclass'
=>
'',
);
}
if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('order_needs_approval',
$_65d77092134088b74b931f5dee7775701c22522d))
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'order_needs_approval',
'label'
=>
Mage::helper('sublogin')->__('Order needs approval'),
'required'
=>
false,
'type'
=>
'checkbox',
'style'
=>
'',
'cssclass'
=>
'',
);
}
if
(Mage::getModel('sublogin/source_formfields')->isFieldAllowed('active',
$_65d77092134088b74b931f5dee7775701c22522d))
{
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[]
=
array(
'name'
=>
'active',
'label'
=>
Mage::helper('sublogin')->__('Active'),
'required'
=>
false,
'type'
=>
'checkbox',
'style'
=>'',
'cssclass'
=>'',
);
}

foreach
($_d2389373c4d226ef389a44a6ea431427c26dd7a9
as
$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07
=>
$_54323be853e934686a9fca46e2f91c8ead26624e)
{
if
(!isset($_54323be853e934686a9fca46e2f91c8ead26624e['onlyNewRequired']))
{
$_54323be853e934686a9fca46e2f91c8ead26624e['onlyNewRequired']
=
false;
}
if
(!isset($_54323be853e934686a9fca46e2f91c8ead26624e['onlyNewValue']))
{
$_54323be853e934686a9fca46e2f91c8ead26624e['onlyNewValue']
=
false;
}
if
(!isset($_54323be853e934686a9fca46e2f91c8ead26624e['readonly']))
{
$_54323be853e934686a9fca46e2f91c8ead26624e['readonly']
=
false;
}
$_d2389373c4d226ef389a44a6ea431427c26dd7a9[$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07]
=
$_54323be853e934686a9fca46e2f91c8ead26624e;
}
return
$_d2389373c4d226ef389a44a6ea431427c26dd7a9;
}

public
function
json_encode($_f9fbb812b678a976ed736c49d6880ed425aed2f7)
{
switch
(gettype($_f9fbb812b678a976ed736c49d6880ed425aed2f7))
{
case
'object':
$_f9fbb812b678a976ed736c49d6880ed425aed2f7
=
get_object_vars($_f9fbb812b678a976ed736c49d6880ed425aed2f7);
return
json_encode($_f9fbb812b678a976ed736c49d6880ed425aed2f7);
break;
case
'array':
$_a46bb2d71d162bd66a7176d0a9c0f944d40d9737
=
false;
$_174bd2bdf2bc930d6a4fc5d75f2c76d8da76a997
=
count($_f9fbb812b678a976ed736c49d6880ed425aed2f7);
for
($_e5063eb1568e4b8089f8c18b623e0363b782b74c
=
0;
$_e5063eb1568e4b8089f8c18b623e0363b782b74c
<
$_174bd2bdf2bc930d6a4fc5d75f2c76d8da76a997;
$_e5063eb1568e4b8089f8c18b623e0363b782b74c++)
if
(!array_key_exists($_e5063eb1568e4b8089f8c18b623e0363b782b74c,
$_f9fbb812b678a976ed736c49d6880ed425aed2f7))
{
$_a46bb2d71d162bd66a7176d0a9c0f944d40d9737
=
true;
break;
}
if
($_a46bb2d71d162bd66a7176d0a9c0f944d40d9737)
{
$_d7073612911bf0c7dc87033618838552aa2497df
=
array();
foreach
($_f9fbb812b678a976ed736c49d6880ed425aed2f7
as
$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07=>$_080c67f9b4e0fa2795ac6258b05f7280be9b7d96)
$_d7073612911bf0c7dc87033618838552aa2497df[]
=
'"'
.
$_3f8de01169eabbb582c7c5ffb762d5f7d1f1bf07
.
'":'
.
$this->json_encode($_080c67f9b4e0fa2795ac6258b05f7280be9b7d96);
return
'{'
.
implode(',',
$_d7073612911bf0c7dc87033618838552aa2497df)
.
'}';
}
else
{
$_d7073612911bf0c7dc87033618838552aa2497df
=
array();
for
($_86ff0a1d51cba890d386dd0a7964e7d3158966de
=
0;
$_86ff0a1d51cba890d386dd0a7964e7d3158966de
<
$_174bd2bdf2bc930d6a4fc5d75f2c76d8da76a997;
$_86ff0a1d51cba890d386dd0a7964e7d3158966de++)
$_d7073612911bf0c7dc87033618838552aa2497df[]
=
$this->json_encode($_f9fbb812b678a976ed736c49d6880ed425aed2f7[$_86ff0a1d51cba890d386dd0a7964e7d3158966de]);
return
'['
.
implode(',',
$_d7073612911bf0c7dc87033618838552aa2497df)
.
']';
}
break;
case
'NULL':
return
'null';
break;
case
'boolean':
return
($_f9fbb812b678a976ed736c49d6880ed425aed2f7)?
'true'
:
'false';
break;
case
'integer':
case
'double':
return
$_f9fbb812b678a976ed736c49d6880ed425aed2f7;
break;
case
'string':
default:
$_f9fbb812b678a976ed736c49d6880ed425aed2f7
=
str_replace(array('\\','/','"',"\n","\r"),
array('\\\\','\/','\"',"\\\n",""),
$_f9fbb812b678a976ed736c49d6880ed425aed2f7);
return
'"'
.
$_f9fbb812b678a976ed736c49d6880ed425aed2f7
.
'"';
break;
return
true;
}
return
false;
}

public
function
canDeleteNotApprovedOrder()
{
return
Mage::getStoreConfig('sublogin/general/delete_notapproved_order');
}
public
function
getYearsArray()
{
$_2da300363109b9ba9740f6b26db2ad68213685e2
=
array();
$_2da300363109b9ba9740f6b26db2ad68213685e2[]
=
array('label'=>'',
'value'=>'');
$_29f5cef5f16a7e3a19ce9020fb3a2f9ed6dbfb87
=
$this->_currentyear;
$_129945ebb26eee6f8b8c2a2d545ec185a6d492c2
=
date('Y')-$_29f5cef5f16a7e3a19ce9020fb3a2f9ed6dbfb87;
$_3982c0d8b623c0e8e83c632cd121f9229a198927
=
(int)
5
+
$_129945ebb26eee6f8b8c2a2d545ec185a6d492c2;
$_4829adb91bbb6865569a430f93c22df662693a5f
=
$_29f5cef5f16a7e3a19ce9020fb3a2f9ed6dbfb87;
for
($_e5063eb1568e4b8089f8c18b623e0363b782b74c
=
0;
$_e5063eb1568e4b8089f8c18b623e0363b782b74c
<
$_3982c0d8b623c0e8e83c632cd121f9229a198927;
$_e5063eb1568e4b8089f8c18b623e0363b782b74c++)
{
$_2da300363109b9ba9740f6b26db2ad68213685e2[]
=
array(
'label'
=>
$_4829adb91bbb6865569a430f93c22df662693a5f,
'value'
=>
$_4829adb91bbb6865569a430f93c22df662693a5f,
);
$_4829adb91bbb6865569a430f93c22df662693a5f++;
}
return
$_2da300363109b9ba9740f6b26db2ad68213685e2;
}

public
function
getMonthsArray()
{
$_29f5cef5f16a7e3a19ce9020fb3a2f9ed6dbfb87
=
$this->_currentyear;
$_129945ebb26eee6f8b8c2a2d545ec185a6d492c2
=
date('Y')-$_29f5cef5f16a7e3a19ce9020fb3a2f9ed6dbfb87;
$_3982c0d8b623c0e8e83c632cd121f9229a198927
=
(int)
5
+
$_129945ebb26eee6f8b8c2a2d545ec185a6d492c2;
$_a6d4a094b0dc9f1ee132bf3485302013323971c3
=
array();
$_a6d4a094b0dc9f1ee132bf3485302013323971c3[]
=
array('label'=>'',
'value'=>'');
for
($_e5063eb1568e4b8089f8c18b623e0363b782b74c
=
0
;
$_e5063eb1568e4b8089f8c18b623e0363b782b74c
<
$_3982c0d8b623c0e8e83c632cd121f9229a198927;
$_e5063eb1568e4b8089f8c18b623e0363b782b74c++)
{
$_4829adb91bbb6865569a430f93c22df662693a5f
=
date('Y')+$_e5063eb1568e4b8089f8c18b623e0363b782b74c;
for
($_86ff0a1d51cba890d386dd0a7964e7d3158966de=1;$_86ff0a1d51cba890d386dd0a7964e7d3158966de<=12;$_86ff0a1d51cba890d386dd0a7964e7d3158966de++)
{
$_498306ab9bc8d549692c799e13762e3296f3b77b
=
$_86ff0a1d51cba890d386dd0a7964e7d3158966de;
if
(strlen($_86ff0a1d51cba890d386dd0a7964e7d3158966de)
==
1)
$_498306ab9bc8d549692c799e13762e3296f3b77b
=
'0'.$_86ff0a1d51cba890d386dd0a7964e7d3158966de;
$_498306ab9bc8d549692c799e13762e3296f3b77b
=
$_4829adb91bbb6865569a430f93c22df662693a5f.'-'.$_498306ab9bc8d549692c799e13762e3296f3b77b;
$_a6d4a094b0dc9f1ee132bf3485302013323971c3[]
=
array(
'label'
=>
$_498306ab9bc8d549692c799e13762e3296f3b77b,
'value'
=>
$_498306ab9bc8d549692c799e13762e3296f3b77b,
);
}
}
return
$_a6d4a094b0dc9f1ee132bf3485302013323971c3;
}

public
function
getBudgetTypesArray()
{
$_1b3bfb9ae20400f07ea25ece11a95eb0fe8fb262
=
array();
$_1b3bfb9ae20400f07ea25ece11a95eb0fe8fb262[]
=
array('label'=>'',
'value'=>'');
$_1b3bfb9ae20400f07ea25ece11a95eb0fe8fb262[]
=
array('label'=>Mage::helper('sublogin')->__('Year'),
'value'=>MageB2B_Sublogin_Model_Budget::TYPE_YEAR);
$_1b3bfb9ae20400f07ea25ece11a95eb0fe8fb262[]
=
array('label'=>Mage::helper('sublogin')->__('Month'),
'value'=>MageB2B_Sublogin_Model_Budget::TYPE_MONTH);
$_1b3bfb9ae20400f07ea25ece11a95eb0fe8fb262[]
=
array('label'=>Mage::helper('sublogin')->__('Day'),
'value'=>MageB2B_Sublogin_Model_Budget::TYPE_DAY);
return
$_1b3bfb9ae20400f07ea25ece11a95eb0fe8fb262;
}
public
function
manipulateDataBasedonBudgetType($_7e7eef674650ac545be8b71d34aed41774cfbe08)
{
if
($_7e7eef674650ac545be8b71d34aed41774cfbe08['budget_type']
==
'year')
{
$_7e7eef674650ac545be8b71d34aed41774cfbe08['month']
=
$_7e7eef674650ac545be8b71d34aed41774cfbe08['day']
=
'';
}
if
($_7e7eef674650ac545be8b71d34aed41774cfbe08['budget_type']
==
'month')
{
$_e1a77adbe3e2c1529de7b509cad6254e890d98cb
=
$_7e7eef674650ac545be8b71d34aed41774cfbe08['month'];
list
($_22a11740904c33fcd3bab7425c3164e4713d261b,
$_e1a77adbe3e2c1529de7b509cad6254e890d98cb)
=
explode('-',
$_e1a77adbe3e2c1529de7b509cad6254e890d98cb);
$_7e7eef674650ac545be8b71d34aed41774cfbe08['year']
=
$_22a11740904c33fcd3bab7425c3164e4713d261b;
$_7e7eef674650ac545be8b71d34aed41774cfbe08['month']
=
$_e1a77adbe3e2c1529de7b509cad6254e890d98cb;
$_7e7eef674650ac545be8b71d34aed41774cfbe08['day']
=
'';
}
if
($_7e7eef674650ac545be8b71d34aed41774cfbe08['budget_type']
==
'day')
{
$_ccbb492fc42df7302330d5a32e68e0b03497340e
=
$_7e7eef674650ac545be8b71d34aed41774cfbe08['day'];
list
($_22a11740904c33fcd3bab7425c3164e4713d261b,
$_e1a77adbe3e2c1529de7b509cad6254e890d98cb,
$_ccbb492fc42df7302330d5a32e68e0b03497340e)
=
explode('-',
$_ccbb492fc42df7302330d5a32e68e0b03497340e);
$_7e7eef674650ac545be8b71d34aed41774cfbe08['day']
=
$_ccbb492fc42df7302330d5a32e68e0b03497340e;
$_7e7eef674650ac545be8b71d34aed41774cfbe08['year']
=
$_22a11740904c33fcd3bab7425c3164e4713d261b;
$_7e7eef674650ac545be8b71d34aed41774cfbe08['month']
=
$_e1a77adbe3e2c1529de7b509cad6254e890d98cb;
}
return
$_7e7eef674650ac545be8b71d34aed41774cfbe08;
}
public
function
manipulateDataReverseBasedonBudgetType($_461e9bac5c124e13e943d74294b5b3c23e91e59a)
{
if
($_461e9bac5c124e13e943d74294b5b3c23e91e59a['budget_type']
==
'year')
{
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['month']
=
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['day']
=
'';
}
if
($_461e9bac5c124e13e943d74294b5b3c23e91e59a['budget_type']
==
'month')
{
$_e1a77adbe3e2c1529de7b509cad6254e890d98cb
=
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['month'];
$_22a11740904c33fcd3bab7425c3164e4713d261b
=
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['year'];
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['year']
=
'';
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['day']
=
'';
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['month']
=
$_22a11740904c33fcd3bab7425c3164e4713d261b.'-'.$_e1a77adbe3e2c1529de7b509cad6254e890d98cb;
}
if
($_461e9bac5c124e13e943d74294b5b3c23e91e59a['budget_type']
==
'day')
{
$_ccbb492fc42df7302330d5a32e68e0b03497340e
=
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['day'];
$_e1a77adbe3e2c1529de7b509cad6254e890d98cb
=
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['month'];
$_22a11740904c33fcd3bab7425c3164e4713d261b
=
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['year'];
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['day']
=
$_22a11740904c33fcd3bab7425c3164e4713d261b.'-'.$_e1a77adbe3e2c1529de7b509cad6254e890d98cb.'-'.$_ccbb492fc42df7302330d5a32e68e0b03497340e;
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['year']
=
'';
$_461e9bac5c124e13e943d74294b5b3c23e91e59a['month']
=
'';
}
return
$_461e9bac5c124e13e943d74294b5b3c23e91e59a;
}
}
